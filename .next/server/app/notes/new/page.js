(()=>{var e={};e.id=364,e.ids=[364],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},7561:e=>{"use strict";e.exports=require("node:fs")},8849:e=>{"use strict";e.exports=require("node:http")},2286:e=>{"use strict";e.exports=require("node:https")},7503:e=>{"use strict";e.exports=require("node:net")},9411:e=>{"use strict";e.exports=require("node:path")},7742:e=>{"use strict";e.exports=require("node:process")},4492:e=>{"use strict";e.exports=require("node:stream")},2477:e=>{"use strict";e.exports=require("node:stream/web")},1041:e=>{"use strict";e.exports=require("node:url")},7261:e=>{"use strict";e.exports=require("node:util")},5628:e=>{"use strict";e.exports=require("node:zlib")},7282:e=>{"use strict";e.exports=require("process")},1267:e=>{"use strict";e.exports=require("worker_threads")},7670:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(482),n=r(9108),a=r(2563),o=r.n(a),i=r(8300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["notes",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3684)),"C:\\ai\\bnote\\src\\app\\notes\\new\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6701)),"C:\\ai\\bnote\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\ai\\bnote\\src\\app\\notes\\new\\page.tsx"],u="/notes/new/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/notes/new/page",pathname:"/notes/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1029:(e,t,r)=>{Promise.resolve().then(r.bind(r,4456))},4456:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(5344),n=r(3729),a=r(8428),o=r(6506),i=r(5433),l=r(3925),d=r(6548),c=r(4514);function u(){let{isLoaded:e,isSignedIn:t,user:r}=(0,i.aF)(),u=(0,a.useRouter)(),[x,p]=(0,n.useState)(null),[b,h]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{if(e&&!t){u.push("/");return}},[e,t,u]),!e||!t)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})});let m=async e=>{try{h(!0),p(null);let t=await (0,d.kT)(e);u.push(`/notes/${t.id}`)}catch(e){console.error("Failed to save note:",e),p("노트를 저장하는데 실패했습니다. 다시 시도해주세요."),h(!1)}};return s.jsx("div",{className:"min-h-screen bg-transparent",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(o.default,{href:"/notes",className:"mr-4 p-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:s.jsx(l.Z,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"새 노트 작성"})]})}),x&&s.jsx("div",{className:"mt-3 p-3 bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-700 rounded-lg",children:s.jsx("p",{className:"text-red-600 dark:text-red-300 text-sm",children:x})}),s.jsx("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 overflow-hidden p-6",children:s.jsx(c.L,{onSubmit:m,isSubmitting:b,submitButtonText:"노트 생성"})}),s.jsx("div",{className:"mt-6 text-center text-sm text-gray-500 dark:text-gray-400",children:s.jsx("p",{children:"자동 저장 기능이 곧 추가될 예정입니다."})})]})})}},7008:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var s=r(5344),n=r(3729),a=r(3386),o=r(4722),i=r(2542);let l=({attributes:e,children:t,element:r})=>{switch(r.type){case"heading-one":return s.jsx("h1",{...e,className:"text-3xl font-bold mb-4",children:t});case"heading-two":return s.jsx("h2",{...e,className:"text-2xl font-bold mb-3",children:t});case"heading-three":return s.jsx("h3",{...e,className:"text-xl font-bold mb-2",children:t});case"bulleted-list":return s.jsx("ul",{...e,className:"list-disc list-inside mb-4",children:t});case"numbered-list":return s.jsx("ol",{...e,className:"list-decimal list-inside mb-4",children:t});case"list-item":return s.jsx("li",{...e,children:t});default:return s.jsx("p",{...e,className:"mb-3",children:t})}},d=({attributes:e,children:t,leaf:r})=>(r.bold&&(t=s.jsx("strong",{children:t})),r.italic&&(t=s.jsx("em",{children:t})),r.underline&&(t=s.jsx("u",{children:t})),s.jsx("span",{...e,children:t}));function c({placeholder:e="여기에 노트를 작성하세요...",value:t,onChange:r,readOnly:c=!1}){let p=(0,n.useMemo)(()=>(0,i.VC)((0,o.BU)((0,a.Jh)())),[]),b=(0,n.useCallback)(e=>s.jsx(l,{...e}),[]),h=(0,n.useCallback)(e=>s.jsx(d,{...e}),[]),m=()=>{u(p,"bold")?a.ML.removeMark(p,"bold"):a.ML.addMark(p,"bold",!0)},g=()=>{u(p,"italic")?a.ML.removeMark(p,"italic"):a.ML.addMark(p,"italic",!0)},y=()=>{u(p,"underline")?a.ML.removeMark(p,"underline"):a.ML.addMark(p,"underline",!0)},f=e=>{let t=x(p,e),r=["numbered-list","bulleted-list"].includes(e);a.YR.unwrapNodes(p,{match:e=>!a.ML.isEditor(e)&&a.W_.isElement(e)&&["numbered-list","bulleted-list"].includes(e.type),split:!0}),a.YR.setNodes(p,{type:t?"paragraph":r?"list-item":e}),!t&&r&&a.YR.wrapNodes(p,{type:e,children:[]})};return(0,s.jsxs)("div",{className:"w-full mx-auto",children:[!c&&s.jsx("div",{className:"border-b border-gray-200 pb-4 mb-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{type:"button",onMouseDown:e=>{e.preventDefault(),m()},className:`px-3 py-1 rounded ${u(p,"bold")?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:s.jsx("strong",{children:"B"})}),s.jsx("button",{type:"button",onMouseDown:e=>{e.preventDefault(),g()},className:`px-3 py-1 rounded ${u(p,"italic")?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:s.jsx("em",{children:"I"})}),s.jsx("button",{type:"button",onMouseDown:e=>{e.preventDefault(),y()},className:`px-3 py-1 rounded ${u(p,"underline")?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:s.jsx("u",{children:"U"})}),s.jsx("div",{className:"h-6 w-px bg-gray-200 mx-2"}),s.jsx("button",{type:"button",onMouseDown:e=>{e.preventDefault(),f("heading-one")},className:`px-3 py-1 rounded ${x(p,"heading-one")?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:"H1"}),s.jsx("button",{type:"button",onMouseDown:e=>{e.preventDefault(),f("heading-two")},className:`px-3 py-1 rounded ${x(p,"heading-two")?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:"H2"}),s.jsx("div",{className:"h-6 w-px bg-gray-200 mx-2"}),s.jsx("button",{type:"button",onMouseDown:e=>{e.preventDefault(),f("bulleted-list")},className:`px-3 py-1 rounded ${x(p,"bulleted-list")?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:"• List"}),s.jsx("button",{type:"button",onMouseDown:e=>{e.preventDefault(),f("numbered-list")},className:`px-3 py-1 rounded ${x(p,"numbered-list")?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:"1. List"})]})}),s.jsx(o.mH,{editor:p,initialValue:t,onChange:r,children:s.jsx(o.CX,{readOnly:c,placeholder:e,renderElement:b,renderLeaf:h,className:"min-h-[200px] focus:outline-none"})})]})}let u=(e,t)=>{let r=a.ML.marks(e);return!!r&&!0===r[t]},x=(e,t)=>{let{selection:r}=e;if(!r)return!1;let[s]=Array.from(a.ML.nodes(e,{at:a.ML.unhangRange(e,r),match:e=>!a.ML.isEditor(e)&&a.W_.isElement(e)&&e.type===t}));return!!s}},4514:(e,t,r)=>{"use strict";r.d(t,{L:()=>l});var s=r(5344),n=r(3729),a=r(7008),o=r(2274),i=r(301);function l({note:e,onSubmit:t,onCancel:r,isSubmitting:l=!1,submitButtonText:d="저장",showCancelButton:c=!1}){let[u,x]=(0,n.useState)(e?.title||""),[p,b]=(0,n.useState)(e?.content||[{type:"paragraph",children:[{text:""}]}]),{currentWeather:h,setWeather:m}=(0,i.wE)();(0,n.useEffect)(()=>{e?.weather&&m(e.weather)},[e?.weather,m]);let g=async e=>{e.preventDefault(),await t({title:u,content:p,weather:h})};return s.jsx("div",{className:"space-y-6",children:(0,s.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"제목"}),s.jsx("input",{type:"text",id:"title",value:u,onChange:e=>x(e.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:text-white px-3 py-2 transition-colors duration-300",placeholder:"노트 제목을 입력하세요",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"날씨"}),(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(o.WeatherButton,{size:"lg",showLabel:!0}),s.jsx("span",{className:"ml-3 text-sm text-gray-500 dark:text-gray-400",children:"클릭하여 날씨를 변경하세요"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"내용"}),s.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded-md overflow-hidden bg-white dark:bg-gray-800 transition-colors duration-300",children:s.jsx(a.Z,{value:p,onChange:b,readOnly:!1})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[c&&r&&s.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-300",children:"취소"}),s.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-300",children:l?"저장 중...":d})]})]})})}},6548:(e,t,r)=>{"use strict";async function s(){let e=await fetch("/api/notes");if(!e.ok)throw Error("Failed to fetch notes");return e.json()}async function n(e){console.log("fetchNote called with id:",e);let t=await fetch(`/api/notes/${e}`);if(console.log("fetchNote response status:",t.status),!t.ok)throw console.error("fetchNote error response:",await t.text()),Error("Failed to fetch note");let r=await t.json();return console.log("fetchNote result:",r),r}async function a(e){let t=await fetch("/api/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create note");return t.json()}async function o(e,t){let r=await fetch(`/api/notes/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error("Failed to update note");return r.json()}async function i(e){console.log("deleteNote called with id:",e);let t=await fetch(`/api/notes/${e}`,{method:"DELETE"});if(console.log("deleteNote response status:",t.status),!t.ok)throw console.error("deleteNote error response:",await t.text()),Error("Failed to delete note");console.log("Note deleted successfully")}r.d(t,{FX:()=>n,Qk:()=>o,f_:()=>i,jO:()=>s,kT:()=>a})},3684:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>n,default:()=>o});let s=(0,r(6843).createProxy)(String.raw`C:\ai\bnote\src\app\notes\new\page.tsx`),{__esModule:n,$$typeof:a}=s,o=s.default}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[904,689,476,709,738],()=>r(7670));module.exports=s})();