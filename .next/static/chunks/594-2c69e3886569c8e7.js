"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[594],{2846:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(7437),a=n(2265),o=n(9248),l=n(4051),s=n(9280);let i=e=>{let{attributes:t,children:n,element:a}=e;switch(a.type){case"heading-one":return(0,r.jsx)("h1",{...t,className:"text-3xl font-bold mb-4",children:n});case"heading-two":return(0,r.jsx)("h2",{...t,className:"text-2xl font-bold mb-3",children:n});case"heading-three":return(0,r.jsx)("h3",{...t,className:"text-xl font-bold mb-2",children:n});case"bulleted-list":return(0,r.jsx)("ul",{...t,className:"list-disc list-inside mb-4",children:n});case"numbered-list":return(0,r.jsx)("ol",{...t,className:"list-decimal list-inside mb-4",children:n});case"list-item":return(0,r.jsx)("li",{...t,children:n});default:return(0,r.jsx)("p",{...t,className:"mb-3",children:n})}},c=e=>{let{attributes:t,children:n,leaf:a}=e;return a.bold&&(n=(0,r.jsx)("strong",{children:n})),a.italic&&(n=(0,r.jsx)("em",{children:n})),a.underline&&(n=(0,r.jsx)("u",{children:n})),(0,r.jsx)("span",{...t,children:n})};function d(e){let{placeholder:t="여기에 노트를 작성하세요...",value:n,onChange:d,readOnly:b=!1}=e,m=(0,a.useMemo)(()=>(0,s.VC)((0,l.BU)((0,o.Jh)())),[]),g=(0,a.useCallback)(e=>(0,r.jsx)(i,{...e}),[]),x=(0,a.useCallback)(e=>(0,r.jsx)(c,{...e}),[]),f=()=>{u(m,"bold")?o.ML.removeMark(m,"bold"):o.ML.addMark(m,"bold",!0)},y=()=>{u(m,"italic")?o.ML.removeMark(m,"italic"):o.ML.addMark(m,"italic",!0)},p=()=>{u(m,"underline")?o.ML.removeMark(m,"underline"):o.ML.addMark(m,"underline",!0)},w=e=>{let t=h(m,e),n=["numbered-list","bulleted-list"].includes(e);o.YR.unwrapNodes(m,{match:e=>!o.ML.isEditor(e)&&o.W_.isElement(e)&&["numbered-list","bulleted-list"].includes(e.type),split:!0}),o.YR.setNodes(m,{type:t?"paragraph":n?"list-item":e}),!t&&n&&o.YR.wrapNodes(m,{type:e,children:[]})};return(0,r.jsxs)("div",{className:"w-full mx-auto",children:[!b&&(0,r.jsx)("div",{className:"border-b border-gray-200 pb-4 mb-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{type:"button",onMouseDown:e=>{e.preventDefault(),f()},className:"px-3 py-1 rounded ".concat(u(m,"bold")?"bg-blue-100 text-blue-700":"hover:bg-gray-100"),children:(0,r.jsx)("strong",{children:"B"})}),(0,r.jsx)("button",{type:"button",onMouseDown:e=>{e.preventDefault(),y()},className:"px-3 py-1 rounded ".concat(u(m,"italic")?"bg-blue-100 text-blue-700":"hover:bg-gray-100"),children:(0,r.jsx)("em",{children:"I"})}),(0,r.jsx)("button",{type:"button",onMouseDown:e=>{e.preventDefault(),p()},className:"px-3 py-1 rounded ".concat(u(m,"underline")?"bg-blue-100 text-blue-700":"hover:bg-gray-100"),children:(0,r.jsx)("u",{children:"U"})}),(0,r.jsx)("div",{className:"h-6 w-px bg-gray-200 mx-2"}),(0,r.jsx)("button",{type:"button",onMouseDown:e=>{e.preventDefault(),w("heading-one")},className:"px-3 py-1 rounded ".concat(h(m,"heading-one")?"bg-blue-100 text-blue-700":"hover:bg-gray-100"),children:"H1"}),(0,r.jsx)("button",{type:"button",onMouseDown:e=>{e.preventDefault(),w("heading-two")},className:"px-3 py-1 rounded ".concat(h(m,"heading-two")?"bg-blue-100 text-blue-700":"hover:bg-gray-100"),children:"H2"}),(0,r.jsx)("div",{className:"h-6 w-px bg-gray-200 mx-2"}),(0,r.jsx)("button",{type:"button",onMouseDown:e=>{e.preventDefault(),w("bulleted-list")},className:"px-3 py-1 rounded ".concat(h(m,"bulleted-list")?"bg-blue-100 text-blue-700":"hover:bg-gray-100"),children:"• List"}),(0,r.jsx)("button",{type:"button",onMouseDown:e=>{e.preventDefault(),w("numbered-list")},className:"px-3 py-1 rounded ".concat(h(m,"numbered-list")?"bg-blue-100 text-blue-700":"hover:bg-gray-100"),children:"1. List"})]})}),(0,r.jsx)(l.mH,{editor:m,initialValue:n,onChange:d,children:(0,r.jsx)(l.CX,{readOnly:b,placeholder:t,renderElement:g,renderLeaf:x,className:"min-h-[200px] focus:outline-none"})})]})}let u=(e,t)=>{let n=o.ML.marks(e);return!!n&&!0===n[t]},h=(e,t)=>{let{selection:n}=e;if(!n)return!1;let[r]=Array.from(o.ML.nodes(e,{at:o.ML.unhangRange(e,n),match:e=>!o.ML.isEditor(e)&&o.W_.isElement(e)&&e.type===t}));return!!r}},2529:function(e,t,n){n.d(t,{L:function(){return i}});var r=n(7437),a=n(2265),o=n(2846),l=n(7864),s=n(3950);function i(e){let{note:t,onSubmit:n,onCancel:i,isSubmitting:c=!1,submitButtonText:d="저장",showCancelButton:u=!1}=e,[h,b]=(0,a.useState)((null==t?void 0:t.title)||""),[m,g]=(0,a.useState)((null==t?void 0:t.content)||[{type:"paragraph",children:[{text:""}]}]),{currentWeather:x,setWeather:f}=(0,s.wE)();(0,a.useEffect)(()=>{(null==t?void 0:t.weather)&&f(t.weather)},[null==t?void 0:t.weather,f]);let y=async e=>{e.preventDefault(),await n({title:h,content:m,weather:x})};return(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"제목"}),(0,r.jsx)("input",{type:"text",id:"title",value:h,onChange:e=>b(e.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:text-white px-3 py-2 transition-colors duration-300",placeholder:"노트 제목을 입력하세요",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"날씨"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(l.WeatherButton,{size:"lg",showLabel:!0}),(0,r.jsx)("span",{className:"ml-3 text-sm text-gray-500 dark:text-gray-400",children:"클릭하여 날씨를 변경하세요"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"내용"}),(0,r.jsx)("div",{className:"border border-gray-300 dark:border-gray-600 rounded-md overflow-hidden bg-white dark:bg-gray-800 transition-colors duration-300",children:(0,r.jsx)(o.Z,{value:m,onChange:g,readOnly:!1})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[u&&i&&(0,r.jsx)("button",{type:"button",onClick:i,className:"px-6 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-300",children:"취소"}),(0,r.jsx)("button",{type:"submit",disabled:c,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-300",children:c?"저장 중...":d})]})]})})}},7864:function(e,t,n){n.r(t),n.d(t,{WeatherButton:function(){return s}});var r=n(7437),a=n(3950);let o={sm:"w-8 h-8 text-lg",md:"w-12 h-12 text-2xl",lg:"w-16 h-16 text-3xl"},l={rain:"비",snow:"눈",sunny:"맑음",cloudy:"구름",night:"달밤"};function s(e){let{className:t="",size:n="md",showLabel:s=!0}=e,{currentWeather:i,isAnimating:c,cycleWeather:d}=(0,a.wE)(),u=a.J9[i];return(0,r.jsxs)("div",{className:"flex items-center gap-2 ".concat(t),children:[(0,r.jsxs)("button",{onClick:()=>{c||d()},disabled:c,className:"\n          ".concat(o[n],"\n          relative\n          rounded-full\n          bg-gradient-to-br ").concat(u.bg,"\n          shadow-lg\n          hover:shadow-xl\n          transition-all\n          duration-300\n          transform\n          hover:scale-105\n          active:scale-95\n          disabled:opacity-70\n          disabled:cursor-not-allowed\n          flex\n          items-center\n          justify-center\n          border-2\n          border-white/20\n          backdrop-blur-sm\n          ").concat(c?"animate-pulse":"","\n        "),title:"현재: ".concat(l[i]," (클릭하여 변경)"),children:[(0,r.jsx)("span",{className:"\n            transition-all \n            duration-300 \n            ".concat(c?"scale-0 rotate-180":"scale-100 rotate-0","\n          "),children:a.kQ[i]}),c&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})})]}),s&&(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors duration-300",children:l[i]})]})}},8222:function(e,t,n){async function r(){let e=await fetch("/api/notes");if(!e.ok)throw Error("Failed to fetch notes");return e.json()}async function a(e){console.log("fetchNote called with id:",e);let t=await fetch("/api/notes/".concat(e));if(console.log("fetchNote response status:",t.status),!t.ok)throw console.error("fetchNote error response:",await t.text()),Error("Failed to fetch note");let n=await t.json();return console.log("fetchNote result:",n),n}async function o(e){let t=await fetch("/api/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create note");return t.json()}async function l(e,t){let n=await fetch("/api/notes/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw Error("Failed to update note");return n.json()}async function s(e){console.log("deleteNote called with id:",e);let t=await fetch("/api/notes/".concat(e),{method:"DELETE"});if(console.log("deleteNote response status:",t.status),!t.ok)throw console.error("deleteNote error response:",await t.text()),Error("Failed to delete note");console.log("Note deleted successfully")}n.d(t,{FX:function(){return a},Qk:function(){return l},f_:function(){return s},jO:function(){return r},kT:function(){return o}})},3950:function(e,t,n){n.d(t,{J9:function(){return l},kQ:function(){return o},wE:function(){return i}});var r=n(2574);let a=["rain","snow","sunny","cloudy","night"],o={rain:"\uD83C\uDF27️",snow:"❄️",sunny:"☀️",cloudy:"☁️",night:"\uD83C\uDF19"},l={rain:{bg:"from-gray-600 to-blue-800",accent:"blue-500"},snow:{bg:"from-blue-200 to-white",accent:"blue-300"},sunny:{bg:"from-yellow-300 to-orange-400",accent:"yellow-500"},cloudy:{bg:"from-gray-300 to-gray-500",accent:"gray-400"},night:{bg:"from-indigo-900 to-black",accent:"indigo-400"}},s=e=>{"undefined"!=typeof document&&(e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},i=(0,r.U)((e,t)=>({currentWeather:"sunny",isDarkMode:!1,isAnimating:!1,cycleWeather:()=>{let{currentWeather:n,setAnimating:r}=t();r(!0),setTimeout(()=>{let t=(a.indexOf(n)+1)%a.length,o=a[t],l="night"===o;e({currentWeather:o,isDarkMode:l}),s(l),"undefined"!=typeof localStorage&&localStorage.setItem("currentWeather",o),setTimeout(()=>r(!1),300)},150)},setWeather:t=>{let n="night"===t;e({currentWeather:t,isDarkMode:n}),s(n),"undefined"!=typeof localStorage&&localStorage.setItem("currentWeather",t)},setAnimating:t=>{e({isAnimating:t})},initializeFromStorage:()=>{if("undefined"!=typeof localStorage){let t=localStorage.getItem("currentWeather");if(t&&a.includes(t)){let n="night"===t;e({currentWeather:t,isDarkMode:n}),s(n)}else e({currentWeather:"sunny",isDarkMode:!1}),s(!1)}}}))}}]);