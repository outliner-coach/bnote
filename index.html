<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>아름다운 메모장</title>
  <!-- Tailwind CSS CDN -->
  <link
    href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
    rel="stylesheet"
  />
  <!-- Custom overrides must load after Tailwind -->
  <style>
    :root {
      /* Accent tone (charcoal) */
      --accent: #1f1f1f;
    }
    /* Enforce monochrome palette */
    body {
      color: #000 !important;
      background-color: #fafafa !important;
    }
    /* Hide mobile status bar placeholders (if any) */
    header::before,
    header::after {
      display: none !important;
    }

    /* Rich-text editor placeholder */
    #note-editor:empty::before {
      content: '메모 내용을 입력하세요...';
      color: #9ca3af;
      font-style: italic;
    }

    /* 링크 스타일 - 에디터 내에서 링크가 시각적으로 구분되도록 */
    #note-editor a {
      color: #2563eb !important;
      text-decoration: underline !important;
      cursor: pointer !important;
      transition: all 0.2s ease;
    }

    #note-editor a:hover {
      color: #1d4ed8 !important;
      text-decoration: underline !important;
      background-color: rgba(37, 99, 235, 0.1) !important;
      padding: 1px 2px;
      border-radius: 2px;
    }

    /* 링크가 선택되었을 때 스타일 */
    #note-editor a:focus {
      outline: 2px solid #2563eb;
      outline-offset: 1px;
      border-radius: 2px;
    }

    /* Rich text editor styles */
    #note-editor {
      min-height: calc(100vh - 120px);
      max-height: calc(100vh - 120px);
      overflow-y: auto;
      line-height: 1.6;
      font-size: 16px;
    }

    /* 툴바 완전 고정 */
    #toolbar {
      position: sticky !important;
      top: 0 !important;
      z-index: 100 !important;
      backdrop-filter: blur(10px);
      background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
      border-bottom: 1px solid #e2e8f0;
    }

    /* 버튼 3D 효과 */
    .tool-btn {
      background: linear-gradient(135deg, #ffffff 0%, #f1f5f9 100%);
      border: 1px solid #e2e8f0;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .tool-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    }

    .tool-btn:active {
      transform: translateY(0);
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      background: linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 100%);
    }

    /* 링크 버튼 특별 스타일 */
    .tool-btn[data-cmd="link"] {
      background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
      border-color: #93c5fd;
    }

    .tool-btn[data-cmd="link"]:hover {
      background: linear-gradient(135deg, #bfdbfe 0%, #93c5fd 100%);
      transform: translateY(-1px);
    }

    /* Shimmer 효과 */
    .tool-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      transition: left 0.5s;
    }

    .tool-btn:hover::before {
      left: 100%;
    }

    /* 구분선 */
    .toolbar-divider {
      width: 1px;
      height: 24px;
      background: linear-gradient(to bottom, transparent, #cbd5e1, transparent);
      margin: 0 4px;
    }

    /* 리스트 스타일 개선 */
    #note-editor ul, #note-editor ol {
      margin: 8px 0;
      padding-left: 24px;
    }

    #note-editor ul li, #note-editor ol li {
      margin: 4px 0;
    }

    /* 중첩 리스트 스타일 */
    #note-editor ul ul, #note-editor ol ol, #note-editor ul ol, #note-editor ol ul {
      margin: 4px 0;
      padding-left: 20px;
    }

    /* 1단계 들여쓰기 */
    #note-editor li > ul > li::marker,
    #note-editor li > ol > li::marker {
      content: '';
    }

    #note-editor li > ul > li {
      list-style-type: circle;
    }

    #note-editor li > ol > li {
      list-style-type: lower-alpha;
    }

    /* 2단계 들여쓰기 */
    #note-editor li > ul > li > ul > li,
    #note-editor li > ol > li > ul > li {
      list-style-type: square;
    }

    #note-editor li > ul > li > ol > li,
    #note-editor li > ol > li > ol > li {
      list-style-type: lower-roman;
    }

    /* 부모 li에서 마커 숨기기 */
    #note-editor li:has(> ul),
    #note-editor li:has(> ol) {
      list-style: none !important;
    }

    /* 인용구 스타일 */
    #note-editor blockquote {
      border-left: 4px solid #6b7280;
      margin: 16px 0;
      padding: 8px 16px;
      background-color: #f9fafb;
      font-style: italic;
      color: #374151;
    }

    /* 구분선 스타일 */
    #note-editor hr {
      border: none;
      height: 1px;
      background: linear-gradient(to right, transparent, #9ca3af, transparent);
      margin: 16px 0;
    }

    /* 커스텀 스크롤바 */
    #note-editor::-webkit-scrollbar {
      width: 6px;
    }

    #note-editor::-webkit-scrollbar-track {
      background: #f1f5f9;
      border-radius: 3px;
    }

    #note-editor::-webkit-scrollbar-thumb {
      background: #cbd5e1;
      border-radius: 3px;
    }

    #note-editor::-webkit-scrollbar-thumb:hover {
      background: #94a3b8;
    }

    /* 모달 애니메이션 */
    .modal-backdrop {
      backdrop-filter: blur(4px);
      animation: fadeIn 0.2s ease-out;
    }

    .modal-content {
      animation: slideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideIn {
      from { 
        opacity: 0;
        transform: translateY(-20px) scale(0.95);
      }
      to { 
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }
  </style>
</head>

<body class="font-sans">
  <div class="flex h-screen bg-gray-50">
    <!-- 사이드바 -->
    <div class="w-80 bg-white border-r border-gray-200 flex flex-col">
      <!-- 헤더 -->
      <div class="p-4 border-b border-gray-200">
        <h1 class="text-xl font-bold text-gray-900 mb-4">아름다운 메모장</h1>
        <button
          id="new-note"
          class="w-full bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors font-medium"
        >
          + 새 메모
        </button>
      </div>

      <!-- 노트 목록 -->
      <div class="flex-1 overflow-y-auto p-4">
        <div id="note-list" class="space-y-2"></div>
      </div>
    </div>

    <!-- 메인 에디터 영역 -->
    <div class="flex-1 flex flex-col">
      <!-- 툴바 -->
      <div id="toolbar" class="p-4 bg-white border-b border-gray-200">
        <div class="flex items-center gap-2 flex-wrap">
          <!-- 텍스트 서식 -->
          <button class="tool-btn w-8 h-8 rounded flex items-center justify-center text-sm font-bold" data-cmd="bold" title="볼드 (Ctrl+B)">B</button>
          <button class="tool-btn w-8 h-8 rounded flex items-center justify-center text-sm italic" data-cmd="italic" title="이탤릭 (Ctrl+I)">I</button>
          <button class="tool-btn w-8 h-8 rounded flex items-center justify-center text-sm underline" data-cmd="underline" title="밑줄 (Ctrl+U)">U</button>
          <button class="tool-btn w-8 h-8 rounded flex items-center justify-center text-sm line-through" data-cmd="strikethrough" title="취소선">S</button>
          
          <div class="toolbar-divider"></div>
          
          <!-- 리스트 -->
          <button class="tool-btn w-8 h-8 rounded flex items-center justify-center text-sm" data-cmd="insertUnorderedList" title="불릿 리스트">•</button>
          <button class="tool-btn w-8 h-8 rounded flex items-center justify-center text-sm" data-cmd="insertOrderedList" title="번호 리스트">1.</button>
          
          <div class="toolbar-divider"></div>
          
          <!-- 블록 요소 -->
          <button class="tool-btn w-8 h-8 rounded flex items-center justify-center text-sm" data-cmd="blockquote" title="인용구">"</button>
          <button class="tool-btn w-8 h-8 rounded flex items-center justify-center text-sm" data-cmd="hr" title="구분선">—</button>
          
          <div class="toolbar-divider"></div>
          
          <!-- 링크 -->
          <button class="tool-btn w-8 h-8 rounded flex items-center justify-center text-sm" data-cmd="link" title="링크 삽입">🔗</button>
          <button class="tool-btn w-8 h-8 rounded flex items-center justify-center text-sm" data-cmd="unlink" title="링크 해제">⛓️‍💥</button>
          
          <div class="toolbar-divider"></div>
          
          <!-- 글자 크기 -->
          <button class="tool-btn w-8 h-8 rounded flex items-center justify-center text-xs" data-cmd="increaseSize" title="크게">A+</button>
          <button class="tool-btn w-8 h-8 rounded flex items-center justify-center text-xs" data-cmd="decreaseSize" title="작게">A-</button>
        </div>
      </div>

      <!-- 에디터 -->
      <div class="flex-1 p-4">
        <div
          id="note-editor"
          contenteditable="true"
          class="w-full h-full p-4 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
          spellcheck="false"
        ></div>
      </div>
    </div>
  </div>

  <!-- 텍스트 입력 모달 -->
  <div id="text-input-modal" class="hidden fixed inset-0 z-50">
    <!-- 배경 오버레이 -->
    <div id="modal-overlay" class="modal-backdrop absolute inset-0 bg-black bg-opacity-50"></div>
    
    <!-- 모달 컨텐츠 -->
    <div class="modal-content relative z-10 flex items-center justify-center min-h-screen p-4">
      <div class="bg-white rounded-lg shadow-xl max-w-md w-full">
        <!-- 모달 헤더 -->
        <div class="px-6 py-4 border-b border-gray-200">
          <h3 id="modal-title" class="text-lg font-semibold text-gray-900">텍스트 입력</h3>
        </div>
        
        <!-- 모달 바디 -->
        <div class="px-6 py-4">
          <label id="modal-label" class="block text-sm font-medium text-gray-700 mb-2">
            텍스트를 입력하세요:
          </label>
          <input
            id="modal-input"
            type="text"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
            placeholder="여기에 입력하세요..."
          />
        </div>
        
        <!-- 모달 푸터 -->
        <div class="px-6 py-4 border-t border-gray-200 flex justify-end gap-3">
          <button
            id="modal-cancel"
            class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors"
          >
            취소
          </button>
          <button
            id="modal-confirm"
            class="px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors"
          >
            확인
          </button>
        </div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html> 